# –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

## ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2025-11-26
### –ö–æ–º–º–∏—Ç: `ec5556a`
### –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞: "feat: add extended material list and integrate material into calculations"

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω —Å–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (7 –ø–æ–∑–∏—Ü–∏–π)

**–ë—ã–ª–æ (5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤):**
- –ß–µ—Ä–Ω–∞—è —Å—Ç–∞–ª—å
- –ù–µ—Ä–∂–∞–≤–µ–π–∫–∞
- –ê–ª—é–º–∏–Ω–∏–π
- –ß—É–≥—É–Ω
- –î—Ä—É–≥–æ–µ

**–°—Ç–∞–ª–æ (7 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤):**
- **–ß–µ—Ä–Ω—ã–π –º–µ—Ç–∞–ª–ª** (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∏–∑ "–ß–µ—Ä–Ω–∞—è —Å—Ç–∞–ª—å")
- –ù–µ—Ä–∂–∞–≤–µ–π–∫–∞
- –ê–ª—é–º–∏–Ω–∏–π
- –ß—É–≥—É–Ω
- **–ú–µ–¥—å** (–Ω–æ–≤—ã–π)
- **–õ–∞—Ç—É–Ω—å** (–Ω–æ–≤—ã–π)
- **–¢–∏—Ç–∞–Ω** (–Ω–æ–≤—ã–π)

---

### 2. ‚úÖ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### `src/types/calculation.ts`
- –û–±–Ω–æ–≤–ª—ë–Ω —Ç–∏–ø `Material`
- `steel` ‚Üí `black_metal`
- –î–æ–±–∞–≤–ª–µ–Ω—ã: `copper`, `brass`, `titanium`
- –£–¥–∞–ª–µ–Ω–æ: `other`

#### `src/constants/calculationMappings.ts`
- –û–±–Ω–æ–≤–ª—ë–Ω –º–∞—Å—Å–∏–≤ `MATERIALS` —Å –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏ –ª–µ–π–±–ª–∞–º–∏
- UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### `src/utils/pricing.ts`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤:
  - –ú–µ–¥—å/–õ–∞—Ç—É–Ω—å: +5000‚ÇΩ –∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–µ
  - –¢–∏—Ç–∞–Ω: +7000‚ÇΩ –∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–µ

---

### 3. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### `DATABASE_MIGRATION.md`
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- SQL-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

#### `MATERIAL_UPDATE_README.md`
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- FAQ

---

## üéØ –ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:

1. **NewCalculation.tsx**
   - –®–∞–≥ 2: –í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (7 chips)
   - Summary –±–ª–æ–∫: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª
   - –®–∞–≥ 3: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ü–µ–Ω—ã

2. **pricing.ts**
   - `calculatePrice()`: –£—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤ —Ä–∞—Å—á—ë—Ç–µ

3. **NewCalculation.tsx ‚Üí calculatePriceWithAI()**
   - –ü–µ—Ä–µ–¥–∞—ë—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –≤ Edge Function

4. **ai-price-estimate/index.ts** (Supabase Edge Function)
   - –ü–æ–ª—É—á–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª —á–µ—Ä–µ–∑ `data.material`
   - –í–∫–ª—é—á–∞–µ—Ç –≤ –ø—Ä–æ–º—Ç –¥–ª—è AI

5. **send-weld-notify/index.ts** (Supabase Edge Function)
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –≤ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

6. **calculationSupabaseService.ts**
   - `saveCalculation()`: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –≤ –ë–î
   - `getAllCalculations()`: –ü–æ–ª—É—á–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –∏–∑ –ë–î

7. **History.tsx**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–∞—Å—á—ë—Ç—ã —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º

---

## ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase

**–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `calculations`:**

```sql
-- 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ material –∏–º–µ–µ—Ç —Ç–∏–ø TEXT
ALTER TABLE calculations 
ALTER COLUMN material TYPE TEXT;

-- 2. –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏
UPDATE calculations 
SET material = 'black_metal' 
WHERE material = 'steel';

-- 3. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ —Å 'other' (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
UPDATE calculations 
SET material = NULL 
WHERE material = 'other';
```

–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ `DATABASE_MIGRATION.md`.

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run build
```
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ  
**–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:** 4.05s  
**–†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞:** 559.97 kB (167.88 kB gzip)

### ‚úÖ Git
```bash
git add .
git commit -m "feat: add extended material list and integrate material into calculations"
git push
```
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ  
**–ö–æ–º–º–∏—Ç:** `ec5556a`  
**–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ GitHub:** ‚úÖ –î–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 5
- **–°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** 270+
- **–°—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ:** 4
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 2 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 3
- **–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö Edge Functions:** 2

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ `DATABASE_MIGRATION.md`
- –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û—Ç–∫—Ä—ã—Ç—å `/new-calculation`
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–∞—Å—á—ë—Ç —Å –∫–∞–∂–¥—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ production
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CI/CD ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ï—Å–ª–∏ –≤—Ä—É—á–Ω—É—é ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **UI –æ—Å—Ç–∞–ª—Å—è —Ç–∞–∫–∏–º –∂–µ** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è chips/toggle buttons
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ —Ä–∞—Å—á—ë—Ç—ã —Å `steel` –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞ `black_metal`
3. **AI —É—á–∏—Ç—ã–≤–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª** - –Ω–µ–π—Ä–æ—Å–µ—Ç—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ç–µ—Ä–∏–∞–ª–µ
4. **–¶–µ–Ω—ã –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω—ã** - –¥–æ—Ä–æ–≥–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–º–µ–¥—å, –ª–∞—Ç—É–Ω—å, —Ç–∏—Ç–∞–Ω) –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–ª–∏—è—é—Ç –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å

---

## ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ –¢–ó –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤ NewCalculation.tsx
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ç–∏–ø—ã –¥–ª—è –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚úÖ –°–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤—ã–Ω–µ—Å–µ–Ω –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã calculationMappings.ts
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ calculatePrice()
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ calculatePriceWithAI()
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ send-weld-notify
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ ai-price-estimate
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ History
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- ‚úÖ UI-—Å—Ç–∏–ª—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω (chips/toggle buttons)
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–º–º–∏—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ GitHub

---

## üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–∞–π–ª–µ `MATERIAL_UPDATE_README.md`.
